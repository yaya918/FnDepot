# 小米相册同步器

小米相册同步器 (XiaomiAlbumSyncer) 是一个全量/增量/定时下载小米云服务中的相册/录音到本地的工具。

## 功能特性

- **全量同步**: 支持完整下载小米云服务中的相册和录音
- **增量同步**: 仅下载新增或更新的内容，节省时间和流量
- **定时任务**: 支持设置定时自动同步任务
- **Web UI管理**: 提供Web界面进行配置和管理
- **自动刷新Cookie**: 自动维护登录状态，避免频繁登录
- **按相册分类存储**: 根据相册分类自动整理文件
- **多账号支持**: 支持多个小米账号的相册同步

## 安装要求

- 系统架构: x86_64
- 运行环境: Linux
- 端口: 8080
- 存储空间: 需要足够的存储空间存放同步的相册和录音文件

## 使用方法

1. 安装应用后，通过浏览器访问 `http://<你的NAS IP>:8080`
2. 登录小米账号，获取 `passToken` 和 `userId`
3. 在Web界面中配置同步设置：
   - 选择同步模式（全量/增量）
   - 设置同步频率（定时任务）
   - 选择要同步的相册和录音类型
4. 数据默认保存在 `/vol[x]/@appshare/xiaomi-album-syncer` 目录
5. 如需更改保存路径，请在飞牛系统设置中添加相关文件夹权限，然后将路径粘贴到计划任务中的保存路径设置

## 配置说明

### 必要参数
- **passToken**: 小米账号的登录令牌
- **userId**: 小米账号的用户ID

### 可选配置
- **同步间隔**: 设置自动同步的时间间隔
- **文件过滤**: 按类型、大小或日期过滤文件
- **存储路径**: 自定义文件保存位置

## 注意事项

1. **账号安全**: 请妥善保管你的 `passToken` 和 `userId`，不要泄露给他人
2. **存储空间**: 确保NAS有足够的存储空间存放同步的文件
3. **网络连接**: 需要稳定的网络连接访问小米云服务
4. **数据备份**: 建议定期备份同步的数据
5. **目录权限**: 如果更改默认保存路径，请确保应用有相应的写入权限

## 故障排除

- **无法登录**: 检查网络连接，确认 `passToken` 和 `userId` 正确
- **同步失败**: 检查存储空间是否充足，网络是否正常
- **权限错误**: 确认保存目录有正确的写入权限
- **端口冲突**: 确认8080端口未被其他应用占用

## 技术支持

- 项目主页: https://github.com/Coooolfan/XiaomiAlbumSyncer
- 问题反馈: https://github.com/Coooolfan/XiaomiAlbumSyncer/issues
- 打包作者: B站@芽芽ol、公众号@芽芽打包匠

## 版本历史

- v0.10.0: 初始版本发布，支持全量/增量同步、Web UI管理、定时任务等功能